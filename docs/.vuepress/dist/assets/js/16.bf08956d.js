(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{433:function(a,t,e){"use strict";e.r(t);var s=e(2),r=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"sentinel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sentinel"}},[a._v("#")]),a._v(" Sentinel")]),a._v(" "),t("h2",{attrs:{id:"_1-集成sentinel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-集成sentinel"}},[a._v("#")]),a._v(" 1 .集成Sentinel")]),a._v(" "),t("h2",{attrs:{id:"a-依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#a-依赖"}},[a._v("#")]),a._v(" a.依赖:")]),a._v(" "),t("h6",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[a._v("#")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("<dependency>\n<groupId>com.alibaba.csp</groupId>\n<artifactId>sentinel-core</artifactId>\n</dependency>\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("1\n2\n3\n4\n5\n")])])]),t("h5",{attrs:{id:"b"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#b"}},[a._v("#")]),a._v(" b.")]),a._v(" "),t("h2",{attrs:{id:"_2-在代码中使用sentinel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-在代码中使用sentinel"}},[a._v("#")]),a._v(" 2 .在代码中使用Sentinel")]),a._v(" "),t("h2",{attrs:{id:"_2-1-以抛出异常的方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-以抛出异常的方式"}},[a._v("#")]),a._v(" 2 - 1 .以抛出异常的方式")]),a._v(" "),t("h4",{attrs:{id:"_2-1-1-代码示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-代码示例"}},[a._v("#")]),a._v(" 2 - 1 - 1 .代码示例")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('@RequestMapping("/getOrder1")\n@ResponseBody\npublic String queryOrder2(@RequestParam("orderId") String orderId) {\n')])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("Entry entry = null;\n")])])]),t("h6",{attrs:{id:"string-resourcename-getorder1-被限流的接口路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#string-resourcename-getorder1-被限流的接口路径"}},[a._v("#")]),a._v(' String resourceName = "getOrder1";//被限流的接口路径')]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("try {\n")])])]),t("h6",{attrs:{id:"第一步-调用entry方法-entry可以理解成入口登记"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第一步-调用entry方法-entry可以理解成入口登记"}},[a._v("#")]),a._v(" //第一步:调用entry方法,entry可以理解成入口登记")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("entry = SphU.entry(resourceName);\n")])])]),t("h6",{attrs:{id:"接下来是被被限流的代码逻辑"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#接下来是被被限流的代码逻辑"}},[a._v("#")]),a._v(" //接下来是被被限流的代码逻辑")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('System.out.println("此处为进行了业务逻辑");\n')])])]),t("h6",{attrs:{id:"catch-blockexception-blockexception-第二步-此处为当接口限流时调用的逻辑"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#catch-blockexception-blockexception-第二步-此处为当接口限流时调用的逻辑"}},[a._v("#")]),a._v(" } catch (BlockException blockException) {//第二步:此处为当接口限流时调用的逻辑")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('return "接口限流, 返回空";\n')])])]),t("h6",{attrs:{id:"finally-第三步-在finally使用entry-exit-结束代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#finally-第三步-在finally使用entry-exit-结束代码"}},[a._v("#")]),a._v(" } finally {//第三步:在finally使用entry.exit()结束代码")]),a._v(" "),t("h6",{attrs:{id:"备注-sphu-entry-xxx-需要与-entry-exit-成对出现-否则会导致调用链记录异常"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#备注-sphu-entry-xxx-需要与-entry-exit-成对出现-否则会导致调用链记录异常"}},[a._v("#")]),a._v(" //备注:SphU.entry(xxx) 需要与 entry.exit() 成对出现,否则会导致调用链记录异常")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("if (entry != null) {\nentry.exit();\n}\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("1 2 3 4 5 6 7 8 9\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("}\nreturn null;\n}\n")])])]),t("h6",{attrs:{id:"-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-2"}},[a._v("#")]),a._v(" /**")]),a._v(" "),t("h6",{attrs:{id:"设置流控规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置流控规则"}},[a._v("#")]),a._v(" * 设置流控规则")]),a._v(" "),t("h6",{attrs:{id:"-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-3"}},[a._v("#")]),a._v(" */")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("@PostConstruct\npublic static void initFlowRules() {\nList<FlowRule> flowRules = new ArrayList<>();\nFlowRule flowRule = new FlowRule();\n")])])]),t("h6",{attrs:{id:"设置受保护的资源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置受保护的资源"}},[a._v("#")]),a._v(" // 设置受保护的资源")]),a._v(" "),t("h6",{attrs:{id:"flowrule-setresource-hello-注意-增加了新的限流接口之后需要更改此项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#flowrule-setresource-hello-注意-增加了新的限流接口之后需要更改此项"}},[a._v("#")]),a._v(' flowRule.setResource("hello");//注意:增加了新的限流接口之后需要更改此项')]),a._v(" "),t("h6",{attrs:{id:"设置流控规则-qps"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置流控规则-qps"}},[a._v("#")]),a._v(" // 设置流控规则 QPS")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("flowRule.setGrade(RuleConstant.FLOW_GRADE_QPS);\n")])])]),t("h6",{attrs:{id:"设置受保护的资源阈值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置受保护的资源阈值"}},[a._v("#")]),a._v(" // 设置受保护的资源阈值")]),a._v(" "),t("h6",{attrs:{id:"set-limit-qps-to-20"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#set-limit-qps-to-20"}},[a._v("#")]),a._v(" // Set limit QPS to 20.")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("flowRule.setCount( 1 );\nflowRules.add(flowRule);\n")])])]),t("h6",{attrs:{id:"加载配置好的规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加载配置好的规则"}},[a._v("#")]),a._v(" // 加载配置好的规则")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("FlowRuleManager.loadRules(flowRules);\n}\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n")])])]),t("h3",{attrs:{id:"_2-2-以接口注解的方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-以接口注解的方式"}},[a._v("#")]),a._v(" 2 - 2 .以接口注解的方式")]),a._v(" "),t("h4",{attrs:{id:"_2-2-1-依赖添加"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-依赖添加"}},[a._v("#")]),a._v(" 2 - 2 - 1 .依赖添加")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("<dependency>\n<groupId>com.alibaba.csp</groupId>\n<artifactId>sentinel-annotation-aspectj</artifactId>\n<version>${sentinel.version}</version>\n</dependency>\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("1\n2\n3\n4\n5\n")])])]),t("h4",{attrs:{id:"_2-2-2-增加配置类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-增加配置类"}},[a._v("#")]),a._v(" 2 - 2 - 2 .增加配置类")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("@Configuration\npublic class SentinelAspectConfiguration {\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("@Bean\npublic SentinelResourceAspect sentinelResourceAspect() {\nreturn new SentinelResourceAspect();\n}\n}\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("1 2 3 4 5 6 7 8\n")])])]),t("h4",{attrs:{id:"_2-2-3-代码示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-代码示例"}},[a._v("#")]),a._v(" 2 - 2 - 3 .代码示例")]),a._v(" "),t("h6",{attrs:{id:"-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-4"}},[a._v("#")]),a._v(" /**")]),a._v(" "),t("h6",{attrs:{id:"注解方式定义资源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#注解方式定义资源"}},[a._v("#")]),a._v(" * 注解方式定义资源")]),a._v(" "),t("h6",{attrs:{id:"sentinelresource-value-资源名称"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sentinelresource-value-资源名称"}},[a._v("#")]),a._v(" * @SentinelResource value 资源名称")]),a._v(" "),t("h6",{attrs:{id:"sentinelresource-blockhandler-调用被限流-降级-系统保护的时候调用的方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sentinelresource-blockhandler-调用被限流-降级-系统保护的时候调用的方法"}},[a._v("#")]),a._v(" * @SentinelResource blockHandler 调用被限流/降级/系统保护的时候调用的方法")]),a._v(" "),t("h6",{attrs:{id:"sentinelresource-fallback-当接口报错的时候调用的方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sentinelresource-fallback-当接口报错的时候调用的方法"}},[a._v("#")]),a._v(" * @SentinelResource fallback 当接口报错的时候调用的方法")]),a._v(" "),t("h6",{attrs:{id:"return"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#return"}},[a._v("#")]),a._v(" * @return")]),a._v(" "),t("h6",{attrs:{id:"-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-5"}},[a._v("#")]),a._v(" */")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('@SentinelResource(value = "helloWorld3",blockHandler = "blockHandlerForHelloWorl\n,fallback = "fallbackGetTestListSentinel")\n@RequestMapping("helloWorld3")\npublic String helloWorld3(){\n')])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('return "success";\n}\n')])])]),t("h6",{attrs:{id:"-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-6"}},[a._v("#")]),a._v(" /**")]),a._v(" "),t("h6",{attrs:{id:"原方法调用被限流-降级-系统保护的时候调用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原方法调用被限流-降级-系统保护的时候调用"}},[a._v("#")]),a._v(" * 原方法调用被限流/降级/系统保护的时候调用")]),a._v(" "),t("h6",{attrs:{id:"param-ex"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#param-ex"}},[a._v("#")]),a._v(" * @param ex")]),a._v(" "),t("h6",{attrs:{id:"return-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#return-2"}},[a._v("#")]),a._v(" * @return")]),a._v(" "),t("h6",{attrs:{id:"-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-7"}},[a._v("#")]),a._v(" */")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('public String blockHandlerForHelloWorld3(BlockException ex) {\nex.printStackTrace();\nreturn "系统繁忙，请稍后！";\n}\n')])])]),t("h6",{attrs:{id:"-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-8"}},[a._v("#")]),a._v(" /**")]),a._v(" "),t("h6",{attrs:{id:"处理fallback对应的方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#处理fallback对应的方法"}},[a._v("#")]),a._v(" * 处理fallback对应的方法")]),a._v(" "),t("h6",{attrs:{id:"-9"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-9"}},[a._v("#")]),a._v(" */")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('public static String fallbackGetTestListSentinel(Throwable e) {\nreturn "接口报错了";\n}\n')])])]),t("h6",{attrs:{id:"-10"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-10"}},[a._v("#")]),a._v(" /**")]),a._v(" "),t("h6",{attrs:{id:"设置流控规则-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置流控规则-2"}},[a._v("#")]),a._v(" * 设置流控规则")]),a._v(" "),t("h6",{attrs:{id:"-11"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-11"}},[a._v("#")]),a._v(" */")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("@PostConstruct\npublic static void initFlowRules() {\nList<FlowRule> flowRules = new ArrayList<>();\nFlowRule flowRule = new FlowRule();\n")])])]),t("h6",{attrs:{id:"设置受保护的资源-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置受保护的资源-2"}},[a._v("#")]),a._v(" // 设置受保护的资源")]),a._v(" "),t("h6",{attrs:{id:"flowrule-setresource-hello-注意-增加了新的限流接口之后需要更改此项-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#flowrule-setresource-hello-注意-增加了新的限流接口之后需要更改此项-2"}},[a._v("#")]),a._v(' flowRule.setResource("hello");//注意:增加了新的限流接口之后需要更改此项')]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("1 2 3 4 5 6 7 8 9\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n")])])]),t("h6",{attrs:{id:"设置流控规则-qps-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置流控规则-qps-2"}},[a._v("#")]),a._v(" // 设置流控规则 QPS")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("flowRule.setGrade(RuleConstant.FLOW_GRADE_QPS);\n")])])]),t("h6",{attrs:{id:"设置受保护的资源阈值-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置受保护的资源阈值-2"}},[a._v("#")]),a._v(" // 设置受保护的资源阈值")]),a._v(" "),t("h6",{attrs:{id:"set-limit-qps-to-20-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#set-limit-qps-to-20-2"}},[a._v("#")]),a._v(" // Set limit QPS to 20.")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("flowRule.setCount( 1 );\nflowRules.add(flowRule);\n")])])]),t("h6",{attrs:{id:"加载配置好的规则-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加载配置好的规则-2"}},[a._v("#")]),a._v(" // 加载配置好的规则")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("FlowRuleManager.loadRules(flowRules);\n}\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("43\n44\n45\n46\n47\n48\n49\n50\n51\n")])])]),t("h2",{attrs:{id:"_3-连接sentinel的控制台"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-连接sentinel的控制台"}},[a._v("#")]),a._v(" 3 .连接Sentinel的控制台")]),a._v(" "),t("h3",{attrs:{id:"_3-1-安装控制台"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-安装控制台"}},[a._v("#")]),a._v(" 3 - 1 .安装控制台")]),a._v(" "),t("h4",{attrs:{id:"_3-1-1-下载jar包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1-下载jar包"}},[a._v("#")]),a._v(" 3 - 1 - 1 .下载jar包")]),a._v(" "),t("h5",{attrs:{id:"sentinel-dashboard-1-8-3-jar"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sentinel-dashboard-1-8-3-jar"}},[a._v("#")]),a._v(" sentinel-dashboard-1.8.3.jar")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("20.36MB\n")])])]),t("h4",{attrs:{id:"_3-1-2-启动命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-2-启动命令"}},[a._v("#")]),a._v(" 3 - 1 - 2 .启动命令")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("1 java -Dserver.port= 8080 -Dcsp.sentinel.dashboard.server=localhost: 8080 -jar sen\n")])])]),t("h5",{attrs:{id:"扩充命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#扩充命令"}},[a._v("#")]),a._v(" 扩充命令:")]),a._v(" "),t("h5",{attrs:{id:"dsentinel-dashboard-auth-username-sentinel-用于指定控制台的登录用戶名为sentinel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dsentinel-dashboard-auth-username-sentinel-用于指定控制台的登录用戶名为sentinel"}},[a._v("#")]),a._v(" -Dsentinel.dashboard.auth.username=sentinel:用于指定控制台的登录用戶名为sentinel；")]),a._v(" "),t("h5",{attrs:{id:"dsentinel-dashboard-auth-password-123456-用于指定控制台的登录密码为-123456-如果省略这"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dsentinel-dashboard-auth-password-123456-用于指定控制台的登录密码为-123456-如果省略这"}},[a._v("#")]),a._v(" -Dsentinel.dashboard.auth.password=123456:用于指定控制台的登录密码为 123456；如果省略这")]),a._v(" "),t("h5",{attrs:{id:"两个参数-默认用戶和密码均为sentinel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#两个参数-默认用戶和密码均为sentinel"}},[a._v("#")]),a._v(" 两个参数，默认用戶和密码均为sentinel")]),a._v(" "),t("h5",{attrs:{id:"dserver-servlet-session-timeout-7200-用于指定springboot服务端session的过期时间-如-7200"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dserver-servlet-session-timeout-7200-用于指定springboot服务端session的过期时间-如-7200"}},[a._v("#")]),a._v(" -Dserver.servlet.session.timeout=7200:用于指定SpringBoot服务端session的过期时间，如 7200 ")]),a._v(" "),t("h5",{attrs:{id:"表示7200秒-60m表示60分钟-默认为30分钟"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#表示7200秒-60m表示60分钟-默认为30分钟"}},[a._v("#")]),a._v(" 表示7200秒；60m表示60分钟，默认为30分钟")]),a._v(" "),t("h5",{attrs:{id:"_3-2-添加依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-添加依赖"}},[a._v("#")]),a._v(" 3-2.添加依赖")]),a._v(" "),t("h6",{attrs:{id:"-12"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-12"}},[a._v("#")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("<dependency>\n<groupId>com.alibaba.csp</groupId>\n<artifactId>sentinel-transport-simple-http</artifactId>\n</dependency>\n")])])]),t("h6",{attrs:{id:"-13"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-13"}},[a._v("#")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("<dependency>\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("1 2 3 4 5 6 7 8\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("<groupId>com.alibaba.cloud</groupId>\n<artifactId>spring-cloud-starter-alibaba-sentinel</artifactId>\n</dependency>\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("9\n10\n11\n")])])]),t("h5",{attrs:{id:"备注"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#备注"}},[a._v("#")]),a._v(" 备注:")]),a._v(" "),t("h5",{attrs:{id:"_1-需要项目中有使用sentinel限流的代码-如果控制台没有显示需要调用两次接口才会有"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-需要项目中有使用sentinel限流的代码-如果控制台没有显示需要调用两次接口才会有"}},[a._v("#")]),a._v(" 1.需要项目中有使用sentinel限流的代码,如果控制台没有显示需要调用两次接口才会有")]),a._v(" "),t("h5",{attrs:{id:"_2-控制台网址http-172-16-0-9-9091"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-控制台网址http-172-16-0-9-9091"}},[a._v("#")]),a._v(" 2.控制台网址http://172.16.0.9:9091/")]),a._v(" "),t("h4",{attrs:{id:"_3-1-3-添加jvm启动参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-3-添加jvm启动参数"}},[a._v("#")]),a._v(" 3 - 1 - 3 .添加JVM启动参数")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("1 -Dproject.name=sentinel-demo2 -Dcsp.sentinel.dashboard.server=localhost: 8080 -Dc\n")])])]),t("h2",{attrs:{id:"_4-sentinel控制台的使用方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-sentinel控制台的使用方式"}},[a._v("#")]),a._v(" 4 .Sentinel控制台的使用方式")]),a._v(" "),t("h3",{attrs:{id:"_4-1-流控模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-流控模式"}},[a._v("#")]),a._v(" 4 - 1 .流控模式")]),a._v(" "),t("h4",{attrs:{id:"_4-1-1-关联模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1-关联模式"}},[a._v("#")]),a._v(" 4 - 1 - 1 .关联模式")]),a._v(" "),t("h5",{attrs:{id:"_1-定义-将当前资源关联其他资源-当其他资源触发阈值的时候会给当前资源限流"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-定义-将当前资源关联其他资源-当其他资源触发阈值的时候会给当前资源限流"}},[a._v("#")]),a._v(" 1.定义:将当前资源关联其他资源,当其他资源触发阈值的时候会给当前资源限流")]),a._v(" "),t("h5",{attrs:{id:"_2-图解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-图解"}},[a._v("#")]),a._v(" 2.图解:")]),a._v(" "),t("h5",{attrs:{id:"_3-使用场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-使用场景"}},[a._v("#")]),a._v(" 3.使用场景:")]),a._v(" "),t("h5",{attrs:{id:"a-两个接口的优先级有区分-当服务器性能没有任何富裕的时候-需要限流低优先级的接口-来让高优先级"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#a-两个接口的优先级有区分-当服务器性能没有任何富裕的时候-需要限流低优先级的接口-来让高优先级"}},[a._v("#")]),a._v(" a.两个接口的优先级有区分,当服务器性能没有任何富裕的时候,需要限流低优先级的接口,来让高优先级")]),a._v(" "),t("h5",{attrs:{id:"的接口获得更多资源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#的接口获得更多资源"}},[a._v("#")]),a._v(" 的接口获得更多资源")]),a._v(" "),t("h4",{attrs:{id:"_4-1-2-链路模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-2-链路模式"}},[a._v("#")]),a._v(" 4 - 1 - 2 .链路模式")]),a._v(" "),t("h5",{attrs:{id:"_1-定义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-定义"}},[a._v("#")]),a._v(" 1 定义:")]),a._v(" "),t("h5",{attrs:{id:"给当前资源设定入口资源-如果通过入口资源访问当前资源则会进行阈值限制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#给当前资源设定入口资源-如果通过入口资源访问当前资源则会进行阈值限制"}},[a._v("#")]),a._v(" 给当前资源设定入口资源,如果通过入口资源访问当前资源则会进行阈值限制")]),a._v(" "),t("h5",{attrs:{id:"_2-图解-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-图解-2"}},[a._v("#")]),a._v(" 2.图解")]),a._v(" "),t("h5",{attrs:{id:"_3-使用场景-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-使用场景-2"}},[a._v("#")]),a._v(" 3.使用场景:")]),a._v(" "),t("h5",{attrs:{id:"可能需要的操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#可能需要的操作"}},[a._v("#")]),a._v(" 可能需要的操作")]),a._v(" "),t("h5",{attrs:{id:"_1-如何将service方法作为资源储存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-如何将service方法作为资源储存"}},[a._v("#")]),a._v(" 1.如何将Service方法作为资源储存")]),a._v(" "),t("h5",{attrs:{id:"将-sentinelresource-注解到的方法都可以作为资源存在"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将-sentinelresource-注解到的方法都可以作为资源存在"}},[a._v("#")]),a._v(" 将@SentinelResource()注解到的方法都可以作为资源存在")]),a._v(" "),t("h5",{attrs:{id:"可能出现的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#可能出现的问题"}},[a._v("#")]),a._v(" 可能出现的问题")]),a._v(" "),t("h5",{attrs:{id:"_1-微服务下-服务间调用无法将接口信息出现在sentinel控制台-这种情况可能是因为版本问题-把版本下"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-微服务下-服务间调用无法将接口信息出现在sentinel控制台-这种情况可能是因为版本问题-把版本下"}},[a._v("#")]),a._v(" 1.微服务下,服务间调用无法将接口信息出现在Sentinel控制台,这种情况可能是因为版本问题,把版本下")]),a._v(" "),t("h5",{attrs:{id:"降为1-8-0以下"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#降为1-8-0以下"}},[a._v("#")]),a._v(" 降为1.8.0以下")])])}),[],!1,null,null,null);t.default=r.exports}}]);